<tool id="__UPLOAD_HISTORY__" name="Upload History" version="0.1" tool_type="upload_history" profile="16.04">
  <type class="UploadHistoryTool" module="galaxy.tools"/>
  <action module="galaxy.tools.actions.history_imp_exp" class="UploadFileToHistoryToolAction"/>
  <!-- eliminated requirements again, now requires galaxy.files to resolve URIs -->
  <command>#from base64 import b64encode#
python '$__tool_directory__/upload_file_to_history.py'
'${ b64encode(str($__URL__).encode('utf-8')).decode('utf-8')}'
'${ b64encode(str($__DEST_DIR__).encode('utf-8')).decode('utf-8')}'
'${ b64encode(str($__TOKEN_NAME__).encode('utf-8')).decode('utf-8')}'
'${ b64encode(str($__TOKEN_KEY__).encode('utf-8')).decode('utf-8')}'
--$__SOURCE_TYPE__ --file-sources '$file_sources' --encoded</command>
  <inputs>
    <param name="__URL__" type="text">
      <sanitizer sanitize="False"/>
    </param>
    <param name="__SOURCE_TYPE__" type="text"/>
    <param name="__DEST_DIR__" type="text">
      <sanitizer sanitize="False"/>
    </param>
    <param name="__TOKEN_NAME__" type="text">
      <sanitizer sanitize="False"/>
    </param>
    <param name="__TOKEN_KEY__" type="text">
      <sanitizer sanitize="False"/>
    </param>
  </inputs>
  <configfiles>
    <file_sources name="file_sources" />
  </configfiles>
</tool>
